/****************************************************\
作者信息：
    姓名：邹琪
版权声明：
    版权由北京交通大学计算机与信息技术学院程序设计基础训练课程组所有
模块名称:
    矩阵转置模块
摘要:
    教学辅助代码，配合实验1
其它说明:
    本模块实现矩阵转置功能，用于训练学生理解二维数组、指向二维数组的指针。
模块历史:
　　邹琪于2018年2月26日创建本模块，email: qzou@bjtu.edu.cn
    韩升于2018年12月14日修改本模块，email：shhan@bjtu.edu.cn
    韩升于2019年3月12日修改部分注释及main函数声明，email:shhan@bjtu.edu.cn
    张鲡沣于2023年3月1日进行作业实验及代码修改。email:22281052@bjtu.edu.cn

**********************************************************/
#include<stdio.h>
#define scanf_s scanf 

/*
    int main()
{
    int a[4][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12},{13,14,15,16} };//声明二维数组并初始化
    int i, j, temp, k, l;

    int(*p)[4] = a;//声明一个指向长度为4的int数组的指针
    int* q = a[0];

    //进行数组转置操作

    for (i = 0; i < 4; i++)    //遍历每一行
    {
        for (j = i + 1; j < 4; j++)   //<遍历每一列>
        {
            //进行元素交换
            temp = *(*(p + j) + i);
            *(*(p + j) + i) = *(q + j);
            *(q + j) = temp;
            for (k = 0; k < 4; k++)
            {
                for (l = 0; l < 4; l++)
                {
                    printf("%d ", a[k][l]);
                }

                printf("\n");
            }
            printf("\n");
        }

        //<指针q每次执行完一行的转置后，转下一行继续进行>
        q = q + 4;
    }

    //输出转置后的结果    
    for (i = 0; i < 4; i++)
    {
        for (j = 0; j < 4; j++)
        {
            printf("%d ", a[i][j]);
        }

        printf("\n");
    }

    return 0;
}
*/

int main()
{
    int a[4][4] = { {1,2,3,4},{5,6,7,8},{9,10,11,12},{13,14,15,16} };//声明二维数组并初始化
    int i, j, temp, k, l;

    int(*p)[4] = a;//声明一个指向长度为4的int数组的指针
    int* q = a[0];

    //进行数组转置操作

    for (i = 0; i < 4; i++)    //遍历每一行
    {
        for (j = i + 1; j < 4; j++)   //<请补充注释>
        {
            //进行元素交换
            temp = *(*(p + j) + i);
            *(*(p + j) + i) = *(q + j);
            *(q + j) = temp;

            for (k = 0; k < 4; k++)
            {
                for (l = 0; l < 4; l++)
                {
                    printf("%d ", a[k][l]);
                }

                printf("\n");
            }
            printf("\n");
        }
        //<请补充注释>
        q = q + i * 4;
    }
    //输出转置后的结果    
    for (k = 0; k < 4; k++)
    {
        for (l = 0; l < 4; l++)
        {
            printf("%d ", a[k][l]);
        }
        printf("\n");
    }
    return 0;
}
